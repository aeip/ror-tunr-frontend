{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/marcupio/Desktop/seir/unit4/rails-mini-project/tunr-client/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport './App.css';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { Header } from './components/Header';\nimport { Playlists } from './components/Playlists';\nimport { Favorites } from './components/Favorites';\n\nfunction App() {\n  _s();\n\n  // Make vars\n  const [playlists, setPlaylists] = useState([]);\n  const [songs, setSongs] = useState([]);\n  const emptySong = {\n    title: '',\n    artist: '',\n    time: '',\n    favorite: false\n  };\n  const emptyPlaylist = {\n    title: '',\n    description: ''\n  }; // API calls\n\n  const makeAPICallSongs = async () => {\n    try {\n      const res = await fetch('http://localhost:3000/songs');\n      const json = await res.json();\n      setSongs(json);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const makeAPICall = async () => {\n    try {\n      const res = await fetch('http://localhost:3000/playlists');\n      const json = await res.json();\n      setPlaylists(json);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const handleFavorites = song => {\n    fetch('http://localhost:3000/playlists/5/songs/' + song.id, {\n      method: 'put',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        favorite: !song.favorite\n      })\n    }).then(() => {\n      makeAPICall();\n      makeAPICallSongs();\n    });\n  };\n\n  const handleCreate = (song, id) => {\n    fetch('http://localhost:3000/playlists/' + id + '/songs', {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(song)\n    }).then(() => {\n      makeAPICall();\n    });\n  };\n\n  const handleDelete = song => {\n    fetch('http://localhost:3000/playlists/5/songs/' + song.id, {\n      method: 'delete',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(() => {\n      makeAPICall();\n      makeAPICallSongs();\n    });\n  };\n\n  const handleCreatePlaylist = playlist => {\n    fetch('http://localhost:3000/playlists', {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(playlist)\n    }).then(() => {\n      makeAPICall();\n    });\n  };\n\n  const handleDeletePlaylist = playlist => {\n    fetch('http://localhost:3000/playlists/' + playlist.id, {\n      method: 'delete',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(() => {\n      makeAPICall();\n    });\n  };\n\n  useEffect(() => {\n    makeAPICall();\n    makeAPICallSongs();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Playlists, {\n        emptyPlaylist: emptyPlaylist,\n        emptySong: emptySong,\n        handleCreate: handleCreate,\n        handleDeletePlaylist: handleDeletePlaylist,\n        handleCreatePlaylist: handleCreatePlaylist,\n        playlists: playlists,\n        setPlaylists: setPlaylists,\n        handleDelete: handleDelete,\n        handleFavorites: handleFavorites\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Favorites, {\n        songs: songs,\n        handleDelete: handleDelete,\n        handleFavorites: handleFavorites\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 3\n  }, this);\n}\n\n_s(App, \"P6zRYncZSZaJL8rPTCw+3BSoMGQ=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/marcupio/Desktop/seir/unit4/rails-mini-project/tunr-client/src/App.js"],"names":["React","useEffect","useState","BrowserRouter","Router","Header","Playlists","Favorites","App","playlists","setPlaylists","songs","setSongs","emptySong","title","artist","time","favorite","emptyPlaylist","description","makeAPICallSongs","res","fetch","json","err","console","error","makeAPICall","handleFavorites","song","id","method","headers","body","JSON","stringify","then","handleCreate","handleDelete","handleCreatePlaylist","playlist","handleDeletePlaylist"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAO,WAAP;AACA,SAASC,aAAa,IAAIC,MAA1B,QAAwC,kBAAxC;AACA,SAASC,MAAT,QAAuB,qBAAvB;AACA,SAASC,SAAT,QAA0B,wBAA1B;AACA,SAASC,SAAT,QAA0B,wBAA1B;;AAEA,SAASC,GAAT,GAAe;AAAA;;AACb;AACD,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BR,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACS,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAMW,SAAS,GAAG;AACjBC,IAAAA,KAAK,EAAE,EADU;AAEjBC,IAAAA,MAAM,EAAE,EAFS;AAGjBC,IAAAA,IAAI,EAAE,EAHW;AAIjBC,IAAAA,QAAQ,EAAE;AAJO,GAAlB;AAMA,QAAMC,aAAa,GAAG;AACrBJ,IAAAA,KAAK,EAAE,EADc;AAErBK,IAAAA,WAAW,EAAE;AAFQ,GAAtB,CAVc,CAeb;;AACD,QAAMC,gBAAgB,GAAG,YAAY;AACpC,QAAI;AACH,YAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,6BAAD,CAAvB;AACA,YAAMC,IAAI,GAAG,MAAMF,GAAG,CAACE,IAAJ,EAAnB;AACAX,MAAAA,QAAQ,CAACW,IAAD,CAAR;AACA,KAJD,CAIE,OAAOC,GAAP,EAAY;AACbC,MAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACA;AACD,GARD;;AASA,QAAMG,WAAW,GAAG,YAAY;AAC/B,QAAI;AACH,YAAMN,GAAG,GAAG,MAAMC,KAAK,CAAC,iCAAD,CAAvB;AACA,YAAMC,IAAI,GAAG,MAAMF,GAAG,CAACE,IAAJ,EAAnB;AACAb,MAAAA,YAAY,CAACa,IAAD,CAAZ;AACA,KAJD,CAIE,OAAOC,GAAP,EAAY;AACbC,MAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACA;AACD,GARD;;AASA,QAAMI,eAAe,GAAIC,IAAD,IAAU;AACjCP,IAAAA,KAAK,CAAC,6CAA6CO,IAAI,CAACC,EAAnD,EAAuD;AAC3DC,MAAAA,MAAM,EAAE,KADmD;AAE3DC,MAAAA,OAAO,EAAE;AACR,wBAAgB;AADR,OAFkD;AAK3DC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACpBlB,QAAAA,QAAQ,EAAE,CAACY,IAAI,CAACZ;AADI,OAAf;AALqD,KAAvD,CAAL,CAQGmB,IARH,CAQQ,MAAM;AACbT,MAAAA,WAAW;AACXP,MAAAA,gBAAgB;AAChB,KAXD;AAYA,GAbD;;AAcA,QAAMiB,YAAY,GAAG,CAACR,IAAD,EAAOC,EAAP,KAAc;AAClCR,IAAAA,KAAK,CAAC,qCAAqCQ,EAArC,GAA0C,QAA3C,EAAqD;AACzDC,MAAAA,MAAM,EAAE,MADiD;AAEzDC,MAAAA,OAAO,EAAE;AACR,wBAAgB;AADR,OAFgD;AAKzDC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,IAAf;AALmD,KAArD,CAAL,CAMGO,IANH,CAMQ,MAAM;AACbT,MAAAA,WAAW;AACX,KARD;AASA,GAVD;;AAWA,QAAMW,YAAY,GAAIT,IAAD,IAAU;AAC9BP,IAAAA,KAAK,CAAC,6CAA6CO,IAAI,CAACC,EAAnD,EAAuD;AAC3DC,MAAAA,MAAM,EAAE,QADmD;AAE3DC,MAAAA,OAAO,EAAE;AACR,wBAAgB;AADR;AAFkD,KAAvD,CAAL,CAKGI,IALH,CAKQ,MAAM;AACbT,MAAAA,WAAW;AACXP,MAAAA,gBAAgB;AAChB,KARD;AASA,GAVD;;AAWA,QAAMmB,oBAAoB,GAAIC,QAAD,IAAc;AAC1ClB,IAAAA,KAAK,CAAC,iCAAD,EAAoC;AACxCS,MAAAA,MAAM,EAAE,MADgC;AAExCC,MAAAA,OAAO,EAAE;AACR,wBAAgB;AADR,OAF+B;AAKxCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeK,QAAf;AALkC,KAApC,CAAL,CAMGJ,IANH,CAMQ,MAAM;AACbT,MAAAA,WAAW;AACX,KARD;AASA,GAVD;;AAWA,QAAMc,oBAAoB,GAAID,QAAD,IAAc;AAC1ClB,IAAAA,KAAK,CAAC,qCAAqCkB,QAAQ,CAACV,EAA/C,EAAmD;AACvDC,MAAAA,MAAM,EAAE,QAD+C;AAEvDC,MAAAA,OAAO,EAAE;AACR,wBAAgB;AADR;AAF8C,KAAnD,CAAL,CAKGI,IALH,CAKQ,MAAM;AACbT,MAAAA,WAAW;AACX,KAPD;AAQA,GATD;;AAUA1B,EAAAA,SAAS,CAAC,MAAM;AACf0B,IAAAA,WAAW;AACXP,IAAAA,gBAAgB;AAChB,GAHQ,EAGN,EAHM,CAAT;AAIA,sBACC,QAAC,MAAD;AAAA,2BACC;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA,8BACC,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,cADD,eAEC,QAAC,SAAD;AACC,QAAA,aAAa,EAAEF,aADhB;AAEC,QAAA,SAAS,EAAEL,SAFZ;AAGC,QAAA,YAAY,EAAEwB,YAHf;AAIC,QAAA,oBAAoB,EAAEI,oBAJvB;AAKC,QAAA,oBAAoB,EAAEF,oBALvB;AAMC,QAAA,SAAS,EAAE9B,SANZ;AAOC,QAAA,YAAY,EAAEC,YAPf;AAQC,QAAA,YAAY,EAAE4B,YARf;AASC,QAAA,eAAe,EAAEV;AATlB;AAAA;AAAA;AAAA;AAAA,cAFD,eAaC,QAAC,SAAD;AACC,QAAA,KAAK,EAAEjB,KADR;AAEC,QAAA,YAAY,EAAE2B,YAFf;AAGC,QAAA,eAAe,EAAEV;AAHlB;AAAA;AAAA;AAAA;AAAA,cAbD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,UADD;AAuBA;;GAtHQpB,G;;KAAAA,G;AAwHT,eAAeA,GAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './App.css';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { Header } from './components/Header';\nimport { Playlists } from './components/Playlists';\nimport { Favorites } from './components/Favorites';\n\nfunction App() {\n  // Make vars\n\tconst [playlists, setPlaylists] = useState([]);\n\tconst [songs, setSongs] = useState([]);\n\tconst emptySong = {\n\t\ttitle: '',\n\t\tartist: '',\n\t\ttime: '',\n\t\tfavorite: false,\n\t};\n\tconst emptyPlaylist = {\n\t\ttitle: '',\n\t\tdescription: '',\n  };\n  \n  // API calls\n\tconst makeAPICallSongs = async () => {\n\t\ttry {\n\t\t\tconst res = await fetch('http://localhost:3000/songs');\n\t\t\tconst json = await res.json();\n\t\t\tsetSongs(json);\n\t\t} catch (err) {\n\t\t\tconsole.error(err);\n\t\t}\n\t};\n\tconst makeAPICall = async () => {\n\t\ttry {\n\t\t\tconst res = await fetch('http://localhost:3000/playlists');\n\t\t\tconst json = await res.json();\n\t\t\tsetPlaylists(json);\n\t\t} catch (err) {\n\t\t\tconsole.error(err);\n\t\t}\n\t};\n\tconst handleFavorites = (song) => {\n\t\tfetch('http://localhost:3000/playlists/5/songs/' + song.id, {\n\t\t\tmethod: 'put',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tfavorite: !song.favorite,\n\t\t\t}),\n\t\t}).then(() => {\n\t\t\tmakeAPICall();\n\t\t\tmakeAPICallSongs();\n\t\t});\n\t};\n\tconst handleCreate = (song, id) => {\n\t\tfetch('http://localhost:3000/playlists/' + id + '/songs', {\n\t\t\tmethod: 'post',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify(song),\n\t\t}).then(() => {\n\t\t\tmakeAPICall();\n\t\t});\n\t};\n\tconst handleDelete = (song) => {\n\t\tfetch('http://localhost:3000/playlists/5/songs/' + song.id, {\n\t\t\tmethod: 'delete',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t}).then(() => {\n\t\t\tmakeAPICall();\n\t\t\tmakeAPICallSongs();\n\t\t});\n\t};\n\tconst handleCreatePlaylist = (playlist) => {\n\t\tfetch('http://localhost:3000/playlists', {\n\t\t\tmethod: 'post',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify(playlist),\n\t\t}).then(() => {\n\t\t\tmakeAPICall();\n\t\t});\n\t};\n\tconst handleDeletePlaylist = (playlist) => {\n\t\tfetch('http://localhost:3000/playlists/' + playlist.id, {\n\t\t\tmethod: 'delete',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t}).then(() => {\n\t\t\tmakeAPICall();\n\t\t});\n\t};\n\tuseEffect(() => {\n\t\tmakeAPICall();\n\t\tmakeAPICallSongs();\n\t}, []);\n\treturn (\n\t\t<Router>\n\t\t\t<div className='App'>\n\t\t\t\t<Header />\n\t\t\t\t<Playlists\n\t\t\t\t\temptyPlaylist={emptyPlaylist}\n\t\t\t\t\temptySong={emptySong}\n\t\t\t\t\thandleCreate={handleCreate}\n\t\t\t\t\thandleDeletePlaylist={handleDeletePlaylist}\n\t\t\t\t\thandleCreatePlaylist={handleCreatePlaylist}\n\t\t\t\t\tplaylists={playlists}\n\t\t\t\t\tsetPlaylists={setPlaylists}\n\t\t\t\t\thandleDelete={handleDelete}\n\t\t\t\t\thandleFavorites={handleFavorites}\n\t\t\t\t/>\n\t\t\t\t<Favorites\n\t\t\t\t\tsongs={songs}\n\t\t\t\t\thandleDelete={handleDelete}\n\t\t\t\t\thandleFavorites={handleFavorites}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</Router>\n\t);\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}